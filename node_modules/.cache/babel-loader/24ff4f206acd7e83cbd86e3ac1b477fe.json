{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PanelBarItem } from './PanelBarItem';\nimport { renderChildren, getInitialState } from './util';\nimport { SelectionService } from './services/selectionService';\nimport { NavigationService, NavigationAction } from './services/navigationService';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n\nvar PanelBar =\n/** @class */\nfunction (_super) {\n  __extends(PanelBar, _super);\n\n  function PanelBar(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._element = null;\n    /**\n     * @hidden\n     */\n\n    _this.handleSelect = function (event) {\n      var state = __assign({}, _this.state, {\n        selected: _this.selected\n      });\n\n      _this._selectionService.select(event.uniquePrivateKey, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children), state.expanded);\n\n      _this._selectionService.focus(event.uniquePrivateKey, 0, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children));\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onSelect = function (child, expanded) {\n      _this.setState({\n        selected: child.props.uniquePrivateKey,\n        expanded: expanded\n      }, function () {\n        if (_this.props.onSelect) {\n          _this.props.onSelect.call(undefined, {\n            target: child,\n            action: 'select'\n          });\n        }\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onFocus = function (child) {\n      _this.activeDescendant = child.props.id;\n\n      _this.setState({\n        focused: child.props.uniquePrivateKey\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onNavigate = function (action) {\n      var state = __assign({}, _this.state, {\n        selected: _this.selected\n      });\n\n      switch (action) {\n        case NavigationAction.Previous:\n          _this._selectionService.focus(state.focused, -1, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children));\n\n          break;\n\n        case NavigationAction.Next:\n          _this._selectionService.focus(state.focused, 1, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children));\n\n          break;\n\n        case NavigationAction.Toggle:\n          _this._selectionService.select(state.focused, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children), state.expanded);\n\n          break;\n\n        default:\n      }\n    };\n\n    _this.handleWrapperFocus = function () {\n      clearTimeout(_this.nextTickId);\n\n      if (!_this.state.wrapperFocused) {\n        _this.setState({\n          wrapperFocused: true\n        });\n      }\n    };\n\n    _this.handleWrapperBlur = function () {\n      _this.nextTick(function () {\n        _this.setState({\n          wrapperFocused: false\n        });\n      });\n    };\n\n    _this.handleKeyDown = function (event) {\n      var rtl = _this._element && getComputedStyle(_this._element).direction === 'rtl' || false;\n      var target = event.target,\n          currentTarget = event.currentTarget;\n\n      if (target === currentTarget) {\n        _this._navigationService.navigate(event, rtl);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    _this.state = getInitialState(props, props.expandMode || 'multiple');\n    _this._selectionService = new SelectionService(_this.onSelect, _this.onFocus, _this.props.expandMode || 'multiple');\n    _this._navigationService = new NavigationService(_this.onNavigate);\n    return _this;\n  }\n\n  Object.defineProperty(PanelBar.prototype, \"selected\", {\n    get: function () {\n      var _a = this.props.selected,\n          selected = _a === void 0 ? this.state.selected : _a;\n      return selected;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  PanelBar.prototype.componentDidUpdate = function (prevProps) {\n    var newProps = this.props;\n\n    if (newProps.expandMode !== prevProps.expandMode) {\n      this._selectionService.setExpandMode(newProps.expandMode);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  PanelBar.prototype.render = function () {\n    var _this = this;\n\n    var ariaProps = {\n      'aria-activedescendant': this.activeDescendant\n    };\n\n    var state = __assign({}, this.state, {\n      selected: this.selected\n    });\n\n    var children = renderChildren(this.props.animation, this.props.keepItemsMounted, state, this.handleSelect, this.props.children);\n    var className = classNames('k-panelbar', this.props.className);\n    return React.createElement(\"ul\", __assign({\n      ref: function (div) {\n        _this._element = div;\n      },\n      dir: this.props.dir,\n      role: 'tree',\n      tabIndex: 0,\n      onKeyDown: this.handleKeyDown,\n      onFocus: this.handleWrapperFocus,\n      onBlur: this.handleWrapperBlur,\n      className: className,\n      style: this.props.style\n    }, ariaProps), children);\n  };\n\n  PanelBar.prototype.nextTick = function (f) {\n    // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n    // XXX: https://github.com/facebook/react/issues/3751\n    // Handles multiple focus events happening at the same time.\n    clearTimeout(this.nextTickId);\n    this.nextTickId = window.setTimeout(function () {\n      return f();\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  PanelBar.propTypes = {\n    animation: PropTypes.bool,\n    children: function (props, propName) {\n      var prop = props[propName];\n\n      if (prop) {\n        if (Array.isArray(prop)) {\n          for (var _i = 0, prop_1 = prop; _i < prop_1.length; _i++) {\n            var value = prop_1[_i];\n\n            if (!value.type || value.type !== PanelBarItem) {\n              return new Error('PanelBar children should be either PanelBarItem or Array of PanelBarItem.');\n            }\n          }\n        } else {\n          if (prop.type !== PanelBarItem) {\n            return new Error('PanelBar child should be either PanelBarItem or Array of PanelBarItem.');\n          }\n        }\n\n        return null;\n      }\n    },\n    dir: PropTypes.string,\n    selected: PropTypes.string,\n    expanded: PropTypes.arrayOf(PropTypes.string),\n    focused: PropTypes.string,\n    expandMode: PropTypes.oneOf(['single', 'multiple']),\n    className: PropTypes.string,\n    keepItemsMounted: PropTypes.bool,\n    onSelect: PropTypes.func,\n    style: PropTypes.object\n  };\n  /**\n   * @hidden\n   */\n\n  PanelBar.defaultProps = {\n    expandMode: 'multiple',\n    animation: true,\n    keepItemsMounted: false\n  };\n  return PanelBar;\n}(React.Component);\n\nexport { PanelBar };","map":{"version":3,"sources":["D:/Rnd/sofia-react-template/node_modules/@progress/kendo-react-layout/dist/es/panelbar/PanelBar.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","PanelBarItem","renderChildren","getInitialState","SelectionService","NavigationService","NavigationAction","classNames","validatePackage","packageMetadata","PanelBar","_super","props","_this","_element","handleSelect","event","state","selected","_selectionService","select","uniquePrivateKey","animation","keepItemsMounted","children","expanded","focus","onSelect","child","setState","undefined","target","action","onFocus","activeDescendant","id","focused","onNavigate","Previous","Next","Toggle","handleWrapperFocus","clearTimeout","nextTickId","wrapperFocused","handleWrapperBlur","nextTick","handleKeyDown","rtl","getComputedStyle","direction","currentTarget","_navigationService","navigate","expandMode","defineProperty","get","_a","enumerable","configurable","componentDidUpdate","prevProps","newProps","setExpandMode","render","ariaProps","className","createElement","ref","div","dir","role","tabIndex","onKeyDown","onBlur","style","f","window","setTimeout","propTypes","bool","propName","prop","isArray","_i","prop_1","value","type","Error","string","arrayOf","oneOf","func","object","defaultProps","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PanelBarItem } from './PanelBarItem';\nimport { renderChildren, getInitialState } from './util';\nimport { SelectionService } from './services/selectionService';\nimport { NavigationService, NavigationAction } from './services/navigationService';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar PanelBar = /** @class */ (function (_super) {\n    __extends(PanelBar, _super);\n    function PanelBar(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        /**\n         * @hidden\n         */\n        _this.handleSelect = function (event) {\n            var state = __assign({}, _this.state, { selected: _this.selected });\n            _this._selectionService.select(event.uniquePrivateKey, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children), state.expanded);\n            _this._selectionService.focus(event.uniquePrivateKey, 0, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children));\n        };\n        /**\n         * @hidden\n         */\n        _this.onSelect = function (child, expanded) {\n            _this.setState({ selected: child.props.uniquePrivateKey, expanded: expanded }, function () {\n                if (_this.props.onSelect) {\n                    _this.props.onSelect.call(undefined, {\n                        target: child,\n                        action: 'select'\n                    });\n                }\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.onFocus = function (child) {\n            _this.activeDescendant = child.props.id;\n            _this.setState({ focused: child.props.uniquePrivateKey });\n        };\n        /**\n         * @hidden\n         */\n        _this.onNavigate = function (action) {\n            var state = __assign({}, _this.state, { selected: _this.selected });\n            switch (action) {\n                case NavigationAction.Previous:\n                    _this._selectionService.focus(state.focused, -1, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children));\n                    break;\n                case NavigationAction.Next:\n                    _this._selectionService.focus(state.focused, 1, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children));\n                    break;\n                case NavigationAction.Toggle:\n                    _this._selectionService.select(state.focused, renderChildren(_this.props.animation, _this.props.keepItemsMounted, state, _this.handleSelect, _this.props.children), state.expanded);\n                    break;\n                default:\n            }\n        };\n        _this.handleWrapperFocus = function () {\n            clearTimeout(_this.nextTickId);\n            if (!_this.state.wrapperFocused) {\n                _this.setState({ wrapperFocused: true });\n            }\n        };\n        _this.handleWrapperBlur = function () {\n            _this.nextTick(function () {\n                _this.setState({ wrapperFocused: false });\n            });\n        };\n        _this.handleKeyDown = function (event) {\n            var rtl = _this._element && (getComputedStyle(_this._element).direction === 'rtl') || false;\n            var target = event.target, currentTarget = event.currentTarget;\n            if (target === currentTarget) {\n                _this._navigationService.navigate(event, rtl);\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = getInitialState(props, props.expandMode || 'multiple');\n        _this._selectionService = new SelectionService(_this.onSelect, _this.onFocus, _this.props.expandMode || 'multiple');\n        _this._navigationService = new NavigationService(_this.onNavigate);\n        return _this;\n    }\n    Object.defineProperty(PanelBar.prototype, \"selected\", {\n        get: function () {\n            var _a = this.props.selected, selected = _a === void 0 ? this.state.selected : _a;\n            return selected;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    PanelBar.prototype.componentDidUpdate = function (prevProps) {\n        var newProps = this.props;\n        if (newProps.expandMode !== prevProps.expandMode) {\n            this._selectionService.setExpandMode(newProps.expandMode);\n        }\n    };\n    /**\n     * @hidden\n     */\n    PanelBar.prototype.render = function () {\n        var _this = this;\n        var ariaProps = {\n            'aria-activedescendant': this.activeDescendant\n        };\n        var state = __assign({}, this.state, { selected: this.selected });\n        var children = renderChildren(this.props.animation, this.props.keepItemsMounted, state, this.handleSelect, this.props.children);\n        var className = classNames('k-panelbar', this.props.className);\n        return (React.createElement(\"ul\", __assign({ ref: function (div) { _this._element = div; }, dir: this.props.dir, role: 'tree', tabIndex: 0, onKeyDown: this.handleKeyDown, onFocus: this.handleWrapperFocus, onBlur: this.handleWrapperBlur, className: className, style: this.props.style }, ariaProps), children));\n    };\n    PanelBar.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        // Handles multiple focus events happening at the same time.\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    /**\n     * @hidden\n     */\n    PanelBar.propTypes = {\n        animation: PropTypes.bool,\n        children: function (props, propName) {\n            var prop = props[propName];\n            if (prop) {\n                if (Array.isArray(prop)) {\n                    for (var _i = 0, prop_1 = prop; _i < prop_1.length; _i++) {\n                        var value = prop_1[_i];\n                        if (!value.type || value.type !== PanelBarItem) {\n                            return new Error('PanelBar children should be either PanelBarItem or Array of PanelBarItem.');\n                        }\n                    }\n                }\n                else {\n                    if (prop.type !== PanelBarItem) {\n                        return new Error('PanelBar child should be either PanelBarItem or Array of PanelBarItem.');\n                    }\n                }\n                return null;\n            }\n        },\n        dir: PropTypes.string,\n        selected: PropTypes.string,\n        expanded: PropTypes.arrayOf(PropTypes.string),\n        focused: PropTypes.string,\n        expandMode: PropTypes.oneOf(['single', 'multiple']),\n        className: PropTypes.string,\n        keepItemsMounted: PropTypes.bool,\n        onSelect: PropTypes.func,\n        style: PropTypes.object\n    };\n    /**\n     * @hidden\n     */\n    PanelBar.defaultProps = {\n        expandMode: 'multiple',\n        animation: true,\n        keepItemsMounted: false\n    };\n    return PanelBar;\n}(React.Component));\nexport { PanelBar };\n"]},"metadata":{},"sourceType":"module"}