{"ast":null,"code":"import _objectSpread from\"D:/Rnd/sleepyowl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"D:/Rnd/sleepyowl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"dispatch\",\"component\"];// -- React and related libs\nimport React from\"react\";import{Switch,Route,Redirect}from\"react-router\";import{HashRouter}from\"react-router-dom\";// -- Redux\nimport{connect}from\"react-redux\";// -- Custom Components\nimport LayoutComponent from\"./components/Layout/Layout\";import ErrorPage from\"./pages/error/ErrorPage\";import Login from\"./pages/login/Login\";import Register from\"./pages/register/Register\";// -- Redux Actions\nimport{logoutUser}from\"./actions/auth\";// -- Third Party Libs\nimport{ToastContainer}from\"react-toastify\";// -- Services\nimport isAuthenticated from\"./services/authService\";// -- Component Styles\nimport\"./styles/app.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PrivateRoute=function PrivateRoute(_ref){var dispatch=_ref.dispatch,component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);if(!isAuthenticated(JSON.parse(localStorage.getItem(\"authenticated\")))){dispatch(logoutUser());return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}else{return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return/*#__PURE__*/React.createElement(component,props);}}));}};var App=function App(props){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Redirect,{to:\"/template/dashboard\"});}}),/*#__PURE__*/_jsx(Route,{path:\"/template\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Redirect,{to:\"/template/dashboard\"});}}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/template\",dispatch:props.dispatch,component:LayoutComponent}),/*#__PURE__*/_jsx(Route,{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/_jsx(Route,{path:\"/error\",exact:true,component:ErrorPage}),/*#__PURE__*/_jsx(Route,{path:\"/register\",exact:true,component:Register}),/*#__PURE__*/_jsx(Route,{component:ErrorPage}),/*#__PURE__*/_jsx(Route,{path:\"*\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Redirect,{to:\"/error\"});}})]})})]});};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated};};export default connect(mapStateToProps)(App);","map":{"version":3,"sources":["D:/Rnd/sleepyowl/src/App.js"],"names":["React","Switch","Route","Redirect","HashRouter","connect","LayoutComponent","ErrorPage","Login","Register","logoutUser","ToastContainer","isAuthenticated","PrivateRoute","dispatch","component","rest","JSON","parse","localStorage","getItem","props","createElement","App","mapStateToProps","state","auth"],"mappings":"wUAAA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,QAAxB,KAAwC,cAAxC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA;AACA,OAASC,OAAT,KAAwB,aAAxB,CAEA;AACA,MAAOC,CAAAA,eAAP,KAA4B,4BAA5B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CAEA;AACA,OAASC,UAAT,KAA2B,gBAA3B,CAEA;AACA,OAASC,cAAT,KAA+B,gBAA/B,CAEA;AACA,MAAOC,CAAAA,eAAP,KAA4B,wBAA5B,CAEA;AACA,MAAO,mBAAP,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAsC,IAAnCC,CAAAA,QAAmC,MAAnCA,QAAmC,CAAzBC,SAAyB,MAAzBA,SAAyB,CAAXC,IAAW,0CACzD,GAAI,CAACJ,eAAe,CAACK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAD,CAApB,CAAyE,CACvEN,QAAQ,CAACJ,UAAU,EAAX,CAAR,CACA,mBAAQ,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAR,CACD,CAHD,IAGO,CACL,mBACE,KAAC,KAAD,gCAAYM,IAAZ,MAAmB,MAAM,CAAE,gBAAAK,KAAK,qBAAKrB,KAAK,CAACsB,aAAN,CAAoBP,SAApB,CAA+BM,KAA/B,CAAL,EAAhC,GADF,CAGD,CACF,CATD,CAWA,GAAME,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACF,KAAD,CAAW,CACrB,mBACE,oCACE,KAAC,cAAD,IADF,cAEE,KAAC,UAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,MAAM,CAAE,qCAAM,KAAC,QAAD,EAAU,EAAE,CAAC,qBAAb,EAAN,EAA9B,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,KAAK,KAA7B,CAA8B,MAAM,CAAE,qCAAM,KAAC,QAAD,EAAU,EAAE,CAAC,qBAAb,EAAN,EAAtC,EAFF,cAGE,KAAC,YAAD,EAAc,IAAI,CAAC,WAAnB,CAA+B,QAAQ,CAAEA,KAAK,CAACP,QAA/C,CAAyD,SAAS,CAAER,eAApE,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,SAAS,CAAEE,KAAtC,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,SAAS,CAAED,SAAtC,EALF,cAME,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,KAAK,KAA7B,CAA8B,SAAS,CAAEE,QAAzC,EANF,cAOE,KAAC,KAAD,EAAO,SAAS,CAAEF,SAAlB,EAPF,cAQE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,CAAE,IAAvB,CAA6B,MAAM,CAAE,qCAAM,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAN,EAArC,EARF,GADF,EAFF,GADF,CAiBD,CAlBD,CAoBA,GAAMiB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCb,eAAe,CAAEa,KAAK,CAACC,IAAN,CAAWd,eADI,CAAL,EAA7B,CAIA,cAAeP,CAAAA,OAAO,CAACmB,eAAD,CAAP,CAAyBD,GAAzB,CAAf","sourcesContent":["// -- React and related libs\r\nimport React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\n// -- Redux\r\nimport { connect } from \"react-redux\";\r\n\r\n// -- Custom Components\r\nimport LayoutComponent from \"./components/Layout/Layout\";\r\nimport ErrorPage from \"./pages/error/ErrorPage\";\r\nimport Login from \"./pages/login/Login\";\r\nimport Register from \"./pages/register/Register\";\r\n\r\n// -- Redux Actions\r\nimport { logoutUser } from \"./actions/auth\";\r\n\r\n// -- Third Party Libs\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\n// -- Services\r\nimport isAuthenticated from \"./services/authService\";\r\n\r\n// -- Component Styles\r\nimport \"./styles/app.scss\";\r\n\r\nconst PrivateRoute = ({ dispatch, component, ...rest }) => {\r\n  if (!isAuthenticated(JSON.parse(localStorage.getItem(\"authenticated\")))) {\r\n    dispatch(logoutUser());\r\n    return (<Redirect to=\"/login\" />)\r\n  } else {\r\n    return (\r\n      <Route { ...rest } render={props => (React.createElement(component, props))} />\r\n    );\r\n  }\r\n};\r\n\r\nconst App = (props) => {\r\n  return (\r\n    <div>\r\n      <ToastContainer/>\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route path=\"/\" exact render={() => <Redirect to=\"/template/dashboard\" />} />\r\n          <Route path=\"/template\" exact render={() => <Redirect to=\"/template/dashboard\"/>}/>\r\n          <PrivateRoute path=\"/template\" dispatch={props.dispatch} component={LayoutComponent} />\r\n          <Route path=\"/login\" exact component={Login} />\r\n          <Route path=\"/error\" exact component={ErrorPage} />\r\n          <Route path=\"/register\" exact component={Register} />\r\n          <Route component={ErrorPage}/>\r\n          <Route path='*' exact={true} render={() => <Redirect to=\"/error\" />} />\r\n        </Switch>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n"]},"metadata":{},"sourceType":"module"}