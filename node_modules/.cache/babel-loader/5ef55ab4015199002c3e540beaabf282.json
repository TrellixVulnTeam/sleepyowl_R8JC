{"ast":null,"code":"import _defineProperty from\"D:/Rnd/sleepyowl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/Rnd/sleepyowl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Rnd/sleepyowl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{withRouter,Redirect,Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{Container,Row,Col,Button,FormGroup,FormText,Input}from\"reactstrap\";import Widget from\"../../components/Widget/Widget\";import{loginUser}from\"../../actions/auth\";import hasToken from\"../../services/authService\";import loginImg from\"../../assets/Login.png\";import LogoImg from\"../../assets/logo.svg\";//import SofiaLogo from \"../../components/Icons/SofiaLogo.js\";\nimport GoogleIcon from\"../../components/Icons/AuthIcons/GoogleIcon.js\";import TwitterIcon from\"../../components/Icons/AuthIcons/TwitterIcon.js\";import FacebookIcon from\"../../components/Icons/AuthIcons/FacebookIcon.js\";import GithubIcon from\"../../components/Icons/AuthIcons/GithubIcon.js\";import LinkedinIcon from\"../../components/Icons/AuthIcons/LinkedinIcon.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useState=useState({email:'admin@flatlogic.com',password:'password'}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var doLogin=function doLogin(e){e.preventDefault();props.dispatch(loginUser({password:state.password,email:state.email}));};var changeCreds=function changeCreds(event){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},event.target.name,event.target.value)));};var _ref=props.location.state||{from:{pathname:'/template'}},from=_ref.from;if(hasToken(JSON.parse(localStorage.getItem('authenticated')))){return/*#__PURE__*/_jsx(Redirect,{to:from});}return/*#__PURE__*/_jsx(\"div\",{className:\"auth-page\",children:/*#__PURE__*/_jsx(Container,{className:\"col-12\",children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Col,{xs:0,lg:6,className:\"right-column\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:loginImg,alt:\"Error page\"})})}),/*#__PURE__*/_jsx(Col,{xs:12,lg:6,className:\"left-column\",children:/*#__PURE__*/_jsxs(Widget,{className:\"widget-auth widget-p-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between py-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"auth-header mb-0\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-block\",children:[/*#__PURE__*/_jsx(\"img\",{style:{height:'40px'},src:LogoImg,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"SLEEPY OWL\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return doLogin(event);},children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"my-3\",children:[/*#__PURE__*/_jsx(FormText,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",className:\"input-transparent pl-3\",value:state.email,onChange:function onChange(event){return changeCreds(event);},type:\"email\",required:true,name:\"email\",placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(FormText,{children:\"Password\"}),/*#__PURE__*/_jsx(Link,{to:\"/error\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(Input,{id:\"password\",className:\"input-transparent pl-3\",value:state.password,onChange:function onChange(event){return changeCreds(event);},type:\"password\",required:true,name:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-widget d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{className:\"rounded-pill my-3\",type:\"submit\",color:\"secondary-red\",children:\"Login\"})}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Don\\u2019t have an account? Sign Up here\"})]})]})})]})})});};function mapStateToProps(state){return{isFetching:state.auth.isFetching,isAuthenticated:state.auth.isAuthenticated,errorMessage:state.auth.errorMessage};}export default withRouter(connect(mapStateToProps)(Login));","map":{"version":3,"sources":["D:/Rnd/sleepyowl/src/pages/login/Login.js"],"names":["React","useState","withRouter","Redirect","Link","connect","Container","Row","Col","Button","FormGroup","FormText","Input","Widget","loginUser","hasToken","loginImg","GoogleIcon","TwitterIcon","FacebookIcon","GithubIcon","LinkedinIcon","Login","props","email","password","state","setState","doLogin","e","preventDefault","dispatch","changeCreds","event","target","name","value","location","from","pathname","JSON","parse","localStorage","getItem","height","LogoImg","mapStateToProps","isFetching","auth","isAuthenticated","errorMessage"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  FormGroup,\r\n  FormText,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport Widget from \"../../components/Widget/Widget\";\r\nimport { loginUser } from \"../../actions/auth\";\r\nimport hasToken from \"../../services/authService\";\r\nimport loginImg from \"../../assets/Login.png\";\r\n\r\nimport LogoImg from \"../../assets/logo.svg\";\r\n//import SofiaLogo from \"../../components/Icons/SofiaLogo.js\";\r\nimport GoogleIcon from \"../../components/Icons/AuthIcons/GoogleIcon.js\";\r\nimport TwitterIcon from \"../../components/Icons/AuthIcons/TwitterIcon.js\";\r\nimport FacebookIcon from \"../../components/Icons/AuthIcons/FacebookIcon.js\";\r\nimport GithubIcon from \"../../components/Icons/AuthIcons/GithubIcon.js\";\r\nimport LinkedinIcon from \"../../components/Icons/AuthIcons/LinkedinIcon.js\";\r\n\r\nconst Login = (props) => {\r\n\r\n  const [state, setState] = useState({\r\n    email: 'admin@flatlogic.com',\r\n    password: 'password',\r\n  })\r\n\r\n  const doLogin = (e) => {\r\n    e.preventDefault();\r\n    props.dispatch(loginUser({ password: state.password, email: state.email }))\r\n  }\r\n\r\n  const changeCreds = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.value })\r\n  }\r\n\r\n  const { from } = props.location.state || { from: { pathname: '/template' }};\r\n  if (hasToken(JSON.parse(localStorage.getItem('authenticated')))) {\r\n    return (\r\n      <Redirect to={from} />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <Container className=\"col-12\">\r\n        <Row className=\"d-flex align-items-center\">\r\n        <Col xs={0} lg={6} className=\"right-column\">\r\n            <div>\r\n              <img src={loginImg}  alt=\"Error page\" />\r\n            </div>\r\n          </Col>\r\n          <Col xs={12} lg={6} className=\"left-column\">\r\n            <Widget className=\"widget-auth widget-p-lg\">\r\n              <div className=\"d-flex align-items-center justify-content-between py-3\">\r\n                <p className=\"auth-header mb-0\">Login</p>\r\n                <div className=\"logo-block\">\r\n                <img style={{height:'40px'}} src={LogoImg} alt=\"Logo\" />\r\n                  <p className=\"mb-0\">SLEEPY OWL</p>\r\n                </div>\r\n              </div>\r\n              {/* <div className=\"auth-info my-2\">\r\n                <p>This is a real app with Node.js backend - use <b>\"admin@flatlogic.com / password\"</b> to login!</p>\r\n              </div> */}\r\n              <form onSubmit={(event) => doLogin(event)}>\r\n                <FormGroup className=\"my-3\">\r\n                  <FormText>Email</FormText>\r\n                  <Input\r\n                    id=\"email\"\r\n                    className=\"input-transparent pl-3\"\r\n                    value={state.email}\r\n                    onChange={(event) => changeCreds(event)}\r\n                    type=\"email\"\r\n                    required\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup  className=\"my-3\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <FormText>Password</FormText>\r\n                    <Link to=\"/error\">Forgot password?</Link>\r\n                  </div>\r\n                  <Input\r\n                    id=\"password\"\r\n                    className=\"input-transparent pl-3\"\r\n                    value={state.password}\r\n                    onChange={(event) => changeCreds(event)}\r\n                    type=\"password\"\r\n                    required\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                </FormGroup>\r\n                <div className=\"bg-widget d-flex justify-content-center\">\r\n                  <Button className=\"rounded-pill my-3\" type=\"submit\" color=\"secondary-red\">Login</Button>\r\n                </div>             \r\n                  <Link to=\"/register\">Don’t have an account? Sign Up here</Link>\r\n              </form>\r\n            </Widget>\r\n          </Col>\r\n        \r\n        </Row>\r\n      </Container>      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nLogin.propTypes = {\r\n  dispatch: PropTypes.func.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isFetching: state.auth.isFetching,\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    errorMessage: state.auth.errorMessage,\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(Login));\r\n"]},"metadata":{},"sourceType":"module"}